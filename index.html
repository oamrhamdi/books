<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منظم الكتب الدراسية للطالب الجامعي</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #8B4513; /* بني */
            --secondary-color: #DAA520; /* ذهبي */
            --accent-color: #F4A460; /* بني فاتح */
            --light-color: #FFF8DC; /* بني فاتح جداً */
            --dark-color: #5D4037; /* بني غامق */
            --text-color: #3E2723; /* بني داكن للنص */
            --card-bg: #FFFFFF;
            --shadow: 0 4px 12px rgba(139, 69, 19, 0.15);
            --transition: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--light-color) 0%, #f5f5dc 100%);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 25px 0;
            text-align: center;
            border-radius: 0 0 15px 15px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.1"><path d="M20,20 L80,20 L80,80 L20,80 Z" fill="none" stroke="white" stroke-width="2"/><path d="M30,30 L70,30 L70,70 L30,70 Z" fill="none" stroke="white" stroke-width="1"/></svg>');
            background-size: 100px;
            opacity: 0.1;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .description {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            font-weight: 300;
        }
        
        /* صفحة الرئيسية */
        .home-page {
            display: block;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .category-card {
            background: linear-gradient(145deg, #ffffff 0%, #f9f9f9 100%);
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
            border: 1px solid rgba(218, 165, 32, 0.2);
        }
        
        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(139, 69, 19, 0.2);
        }
        
        .category-header {
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            color: white;
            padding: 20px;
            font-size: 1.4rem;
            font-weight: 700;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }
        
        .category-header::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--secondary-color);
        }
        
        .book-count {
            background-color: rgba(255, 255, 255, 0.25);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 600;
            backdrop-filter: blur(5px);
        }
        
        .category-description {
            padding: 18px;
            color: var(--text-color);
            font-size: 1rem;
            line-height: 1.5;
            background-color: var(--card-bg);
        }
        
        /* صفحة التصنيف */
        .category-page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .page-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent-color);
        }
        
        .back-button {
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            margin-left: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 3px 6px rgba(139, 69, 19, 0.2);
        }
        
        .back-button:hover {
            transform: translateX(-3px);
            box-shadow: 0 5px 10px rgba(139, 69, 19, 0.3);
        }
        
        .page-title {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .books-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .book-card {
            background: linear-gradient(145deg, #ffffff 0%, #f9f9f9 100%);
            border-radius: 10px;
            box-shadow: 0 3px 8px rgba(139, 69, 19, 0.1);
            padding: 20px;
            transition: var(--transition);
            border: 1px solid rgba(218, 165, 32, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .book-card::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 5px;
            height: 100%;
            background: var(--secondary-color);
        }
        
        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(139, 69, 19, 0.15);
        }
        
        .book-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 1.1rem;
            color: var(--text-color);
            line-height: 1.4;
        }
        
        .search-box {
            margin-bottom: 25px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 14px 20px 14px 50px;
            border: 2px solid var(--accent-color);
            border-radius: 10px;
            font-size: 1.05rem;
            background-color: rgba(255, 248, 220, 0.5);
            transition: var(--transition);
            color: var(--text-color);
        }
        
        .search-box input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.2);
            background-color: white;
        }
        
        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 40px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            text-align: center;
            flex: 1;
            min-width: 200px;
            color: white;
            transition: var(--transition);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 25px;
            color: var(--text-color);
            font-size: 0.95rem;
            border-top: 1px solid rgba(218, 165, 32, 0.3);
        }
        
        .no-books {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-color);
            grid-column: 1 / -1;
        }
        
        .no-books i {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
            color: var(--accent-color);
        }
        
        @media (max-width: 768px) {
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .books-list {
                grid-template-columns: 1fr;
            }
            
            .stat-card {
                min-width: 100%;
            }
            
            .page-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .back-button {
                margin-left: 0;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>منظم الكتب الدراسية للطالب الجامعي</h1>
            <p class="description">قم بتنظيم كتبك حسب المحتوى وترتيبها حسب التصنيفات المناسبة</p>
        </div>
    </header>
    
    <div class="container">
        <!-- الصفحة الرئيسية -->
        <div id="homePage" class="home-page">
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalBooks">0</div>
                    <div>إجمالي الكتب</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="categoriesCount">0</div>
                    <div>عدد التصنيفات</div>
                </div>
            </div>
            
            <h2 style="margin: 40px 0 25px; color: var(--primary-color); font-size: 1.8rem; text-align: center;">التصنيفات</h2>
            <div class="categories-grid" id="categoriesGrid">
                <!-- سيتم ملء هذا القسم بالتصنيفات باستخدام JavaScript -->
            </div>
        </div>
        
        <!-- صفحات التصنيفات (ستكون مخفية في البداية) -->
        <div id="categoryPages">
            <!-- سيتم إنشاء صفحات التصنيفات ديناميكيًا باستخدام JavaScript -->
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>تم تصميم هذا التطبيق لمساعدة الطالب الجامعي على تنظيم قراءته حسب التصنيفات المناسبة</p>
        </div>
    </footer>

    <script>
        // بيانات الكتب مصنفة حسب المحتوى
        const booksByCategory = {
            "عقيدة": [
                "لمعة الاعتقاد الهادي إلى سبيل الرشاد",
                "العقيدة الحموية الكبرى",
                "العقيدة الحموية",
                "العقيدة الكرمية",
                "العقيدة الطحاوية",
                "العقيدة النووية في التوحيد",
                "العقيدة الواسطية",
                "الإبانة عن شريعة الفرقة الناجية ومخالفة الفرق المذمومة",
                "الاعتصام",
                "مجموعة رسائل العقيدة",
                "درء تعارض العقل والنقل",
                "شرح السنة",
                "فضل الإسلام",
                "الرد على الجهمية",
                "السنة",
                "التوحيد وإثبات صفات الرب",
                "اجتماع الجيوش الإسلامية على الجهمية",
                "كشف الشبهات",
                "في دفع الشبهات",
                "نواقض الإسلام",
                "التوحيد",
                "الأصول الثلاثة",
                "موقف الإسلام العقدي من كفر النصارى واليهود",
                "المعرفة في بيان عقيدة المسلم",
                "الإرشاد إلى صحيح الاعتقاد",
                "مختصر من الرياض الفكري في العقيدة"
            ],
            "فقه": [
                "الفقه الميسر",
                "فقه السنة",
                "الوجيز في فقه السنة والكتاب العزيز",
                "زاد المستقنع في المختصر المقنع",
                "دليل الطالب لنيل المطالب",
                "الرحبية",
                "عمدة الفقه",
                "المجموع في شرح المهذب",
                "المحلى",
                "بدائع الصنائع",
                "الزخيرة",
                "المغني المحتاج",
                "كشاف القناع عن متن الإقناع",
                "زاد المعاد في هدي خير العباد",
                "فاعل الكبيرة ليس بمسلم وليس بكافر",
                "مورد الأفهام في شرح الأحكام",
                "الأربعون النووية",
                "عمدة الأحكام",
                "رياض الصالحين",
                "بلوغ المرام",
                "الملتقى بالمجد",
                "متون طالب العلم",
                "الفقه الميسر للعلماء",
                "الملخص الفقهي"
            ],
            "سيرة": [
                "السيرة النبوية لابن هشام",
                "الشفا بتعريف حقوق المصطفى",
                "الشمائل المحمدية",
                "السيرة النبوية",
                "دلائل النبوة",
                "مع النبي",
                "فقه السيرة",
                "الرحيق المختوم",
                "مواقف إنسانية من حياة النبي",
                "عائشة والسياسة",
                "البداية والنهاية",
                "السنة النبوية لما في الصحيحين"
            ],
            "حديث": [
                "الأربعون النووية",
                "عمدة الأحكام",
                "رياض الصالحين",
                "بلوغ المرام",
                "متون طالب العلم"
            ],
            "رد شبهات": [
                "إظهار الحق",
                "الجواب الصحيح لمن بدل دين المسيح",
                "دحض شبهات حول الإسلام",
                "القرآن يتحدى",
                "الجواب المسيح لما لفقه عبد المسيح",
                "محمد في التوراة والإنجيل والقرآن",
                "مناظرات الصندي مع القساوسة",
                "هداية الحياري في أجوبة اليهود والنصارى",
                "هل الكتاب المقدس كلام الله",
                "المسيح في الإسلام",
                "الله في الإسلام والمسيحية والإسلام",
                "الاختيار بين الإسلام والنصرانية",
                "قواعد ابن تيمية في الرد على المخالفين",
                "حوار مع صديقي الملحد",
                "الرد على المنطقيين",
                "ملخص منهاج السنة",
                "الإجابة القرآنية"
            ],
            "تنمية ذاتية": [
                "48 قانون للقوة",
                "إنجاز الأمور",
                "سيكولوجيا المال",
                "صباح استثنائي كل يوم",
                "الرجال من المريخ والنساء من الزهرة",
                "7 عادات للناس الأكثر فعالية",
                "لا تحزن",
                "قوة العادات",
                "الأسبوع العملي 4 ساعات",
                "العادة الثامنة من الفاعلية إلى العظمة",
                "العمل بذكاء وليس بجهد",
                "أول الأشياء أولاً",
                "كل ذلك الضفدع",
                "إدارة الأولويات",
                "فن إدارة الوقت",
                "كيف تكسب أصدقاء وتؤثر على الناس",
                "إدارة الأولويات والعلاقات",
                "فن الكلام وأصول الكلام الناجح",
                "التأثير",
                "مهارات الاتصال الفعال",
                "الذكاء الاجتماعي",
                "الذكاء العاطفي",
                "الإنصات الفعال",
                "قوة الآن",
                "فكر لتصبح غنياً",
                "أريح ذلك اليوم",
                "فن الاستيقاظ مبكراً",
                "أيقظ العملاق الذي بداخلك",
                "زيادة ذكائك المالي",
                "لعبة المال",
                "الجار المليونير",
                "أسرار عقل المليونير",
                "قواعد المال",
                "العادات المالية للناجحين",
                "أغنى رجل في بابل",
                "الانضباط الذاتي 365 يوم",
                "العادات الصغيرة",
                "قوة عقلك الباطن",
                "فن أن تكون نفسك",
                "عادات الإنجاز العالية",
                "كيف تتعلم بذكاء وليس بجهد شاق",
                "النجاح في الامتحانات",
                "العادات السبع للطلاب الأكثر فعالية",
                "العقل المنظم",
                "التفكير السريع والبطيء",
                "الخرائط الذهنية",
                "أيقظ قواك الخفية",
                "العالم كما أراه",
                "دع القلق وابدأ الحياة",
                "الحرية الأولى والأخيرة",
                "حول نفسك إلى محارب للحياة",
                "فن العيش بحكمة",
                "قدرات غير محدودة",
                "قوة التركيز",
                "أول 20 ساعة",
                "العادات الذرية",
                "فن اللامبالاة",
                "مميز بالأصفر",
                "عادات طيبة وعادات سيئة",
                "معجزة الصباح",
                "كن الشخص الذي يجعلك سعيداً",
                "قوة التفكير الإيجابي",
                "اصنع وقتاً أكثر من المتاح",
                "نادي الخامسة صباحاً",
                "ابدأ بالأهم ولو كان صعباً",
                "استراتيجية المحيط الأزرق",
                "غير حياتك في 7 أيام",
                "رحلتي من الشك إلى الإيمان",
                "البديل الثالث",
                "كوتلر للتسويق",
                "بناء العقل الثاني",
                "أربعة أسباب أسبوع",
                "غذاء الدماغ",
                "عادات النجاح",
                "أبناء بالغون لوالدين غير ناضجين عاطفياً",
                "قوة الأذكار الهادئة",
                "متعة عدم الكمال",
                "فكر كأنك أينشتاين",
                "عندما يقول الجسد لا",
                "سلسلة الـ100 يوم",
                "عقول مشتتة",
                "شخص نعرفه",
                "قوة الانضباط",
                "نقطة التركيز",
                "متعة أن تكون في منتصف العمر",
                "حياتك 20/80",
                "فن التركيز والإنجاز",
                "لغة الجسد في مقر العمل",
                "المنهج الذي لا يدرس",
                "قوانين التحرير من الصراع النفسي",
                "إشارات الحب في لغة الجسد",
                "وهم المقارنة",
                "اجعله يثبت",
                "ابتكر فناً رائعاً",
                "ذاكرة مثالية",
                "خذها بقوة",
                "عشها بسعادة",
                "44 فرصة",
                "قواعد نبوية لحل المشكلات الزوجية",
                "تحويل الابتكار إلى أموال",
                "فوضى العودة",
                "متعة أن تكون في العشرين",
                "متعة أن تكون في الثلاثين",
                "كيف انظم حياتي",
                "محاط بالرؤساء السيئين والموظفين الكسالى",
                "ثعابين في بذلات العمل",
                "محاط بالانتكاسات",
                "جزيرة الأشجار المفقودة",
                "أرض السعادة",
                "مصيدة التشتيت",
                "صعوبة التخلص من العادات",
                "أهلاً بالعالم",
                "قتلي في بلاد العجائب",
                "مدرب الحياة الذكي",
                "فارس من المماليك السبعة",
                "محاط بالنرجسيين",
                "ما لا يقال"
            ],
            "أدب": [
                "البخلاء",
                "الحب الضائع",
                "حي بن يقظان",
                "رسائل الأحزان",
                "رحلة حول غرفتي",
                "120 قصيدة حب",
                "كوخ الأشواق",
                "لله نمضي",
                "الطاعون",
                "علاقة خطرة"
            ],
            "علاقات": [
                "التفاهم بين الأزواج",
                "حتى يبقى الحب",
                "العلاقات الزوجية الناجحة",
                "ماذا قال العلم عن العلاقة والجنس",
                "لغات الحب الخمس",
                "الرجال من الأرض والنساء أيضاً من الأرض",
                "لماذا لا يفهمني",
                "لماذا يكذب الرجل وتبكي المرأة",
                "الرجال لا يسمعون والنساء لا يقرأن",
                "لغة الجسد بين الرجل والمرأة"
            ],
            "إدارة": [
                "إنجاز الأمور",
                "قوة العادات",
                "الأسبوع العملي 4 ساعات",
                "العادة الثامنة من الفاعلية إلى العظمة",
                "العمل بذكاء وليس بجهد",
                "أول الأشياء أولاً",
                "كل ذلك الضفدع",
                "إدارة الأولويات",
                "فن إدارة الوقت",
                "كيف تكسب أصدقاء وتؤثر على الناس",
                "إدارة الأولويات والعلاقات",
                "فن الكلام وأصول الكلام الناجح",
                "التأثير",
                "مهارات الاتصال الفعال",
                "الذكاء الاجتماعي",
                "الذكاء العاطفي",
                "الإنصات الفعال",
                "قوة الآن",
                "فكر لتصبح غنياً",
                "أريح ذلك اليوم",
                "فن الاستيقاظ مبكراً",
                "أيقظ العملاق الذي بداخلك",
                "زيادة ذكائك المالي",
                "لعبة المال",
                "الجار المليونير",
                "أسرار عقل المليونير",
                "قواعد المال",
                "العادات المالية للناجحين",
                "أغنى رجل في بابل",
                "الانضباط الذاتي 365 يوم"
            ],
            "فلسفة": [
                "قصة الإيمان بين العلم والفلسفة",
                "الإلحاد مشكلة نفسية",
                "مصارع الفلاسفة",
                "براهين وجود الله",
                "العقل والوجود والدين",
                "ليطمئن قلبي",
                "الله يتجلي في عصر العلم",
                "وهم الإلحاد",
                "أدلة وجود الله",
                "العقل والقرآن والوحي",
                "العقل والوجود والإيمان بالله",
                "لماذا أسلمت",
                "الرحمة المهدرة",
                "الملل والنحل",
                "الملل والأهواء والنحل",
                "تهافت الفلاسفة",
                "النبوات",
                "الإلحاد يهز نفسه",
                "الرد على المنطقيين"
            ]
        };

        // عناوين التصنيفات بالعربية
        const categoryTitles = {
            "عقيدة": "العقيدة الإسلامية",
            "فقه": "الفقه وأصوله",
            "سيرة": "السيرة النبوية",
            "حديث": "الحديث الشريف",
            "رد شبهات": "الرد على الشبهات والمناظرات",
            "تنمية ذاتية": "التنمية الذاتية والمهارات",
            "أدب": "الأدب والقصص",
            "علاقات": "العلاقات والأسرة",
            "إدارة": "الإدارة والمال",
            "فلسفة": "الفلسفة والإلحاد"
        };

        // أوصاف التصنيفات
        const categoryDescriptions = {
            "عقيدة": "كتب العقيدة الإسلامية وأصول الدين",
            "فقه": "كتب الفقه الإسلامي وأصوله",
            "سيرة": "كتب السيرة النبوية وحياة الرسول ﷺ",
            "حديث": "كتب الحديث النبوي الشريف",
            "رد شبهات": "كتب الرد على الشبهات والمناظرات مع غير المسلمين",
            "تنمية ذاتية": "كتب التنمية الذاتية وتطوير المهارات",
            "أدب": "كتب الأدب والقصص العربية",
            "علاقات": "كتب العلاقات الأسرية والزوجية",
            "إدارة": "كتب الإدارة والمال والأعمال",
            "فلسفة": "كتب الفلسفة والرد على الإلحاد"
        };

        // دالة لعرض الصفحة الرئيسية
        function displayHomePage() {
            const homePage = document.getElementById('homePage');
            const categoryPages = document.getElementById('categoryPages');
            
            if (!homePage || !categoryPages) {
                console.error('عناصر الصفحة غير موجودة');
                return;
            }
            
            homePage.style.display = 'block';
            categoryPages.style.display = 'none';
            
            updateStats();
            displayCategories();
        }

        // دالة لعرض صفحة تصنيف معين
        function displayCategoryPage(categoryId) {
            // التحقق من وجود التصنيف
            if (!booksByCategory[categoryId]) {
                console.error('التصنيف غير موجود:', categoryId);
                return;
            }
            
            const homePage = document.getElementById('homePage');
            const categoryPages = document.getElementById('categoryPages');
            
            if (!homePage || !categoryPages) {
                console.error('عناصر الصفحة غير موجودة');
                return;
            }
            
            homePage.style.display = 'none';
            categoryPages.style.display = 'block';
            
            // إخفاء جميع صفحات التصنيفات أولاً
            const allCategoryPages = categoryPages.querySelectorAll('.category-page');
            allCategoryPages.forEach(page => {
                page.style.display = 'none';
            });
            
            // إنشاء صفحة التصنيف إذا لم تكن موجودة
            let categoryPage = document.getElementById(`category-${categoryId}`);
            if (!categoryPage) {
                createCategoryPage(categoryId);
                categoryPage = document.getElementById(`category-${categoryId}`);
            }
            
            // إظهار الصفحة المطلوبة
            if (categoryPage) {
                categoryPage.style.display = 'block';
            }
        }

        // دالة لإنشاء صفحة تصنيف جديدة
        function createCategoryPage(categoryId) {
            // التحقق من وجود التصنيف
            if (!booksByCategory[categoryId]) {
                console.error('التصنيف غير موجود:', categoryId);
                return;
            }
            
            const categoryPages = document.getElementById('categoryPages');
            if (!categoryPages) {
                console.error('عنصر categoryPages غير موجود');
                return;
            }
            
            const categoryPage = document.createElement('div');
            categoryPage.id = `category-${categoryId}`;
            categoryPage.className = 'category-page';
            
            // رأس الصفحة مع زر العودة
            const pageHeader = document.createElement('div');
            pageHeader.className = 'page-header';
            
            const backButton = document.createElement('button');
            backButton.className = 'back-button';
            backButton.innerHTML = '← العودة للرئيسية';
            backButton.onclick = displayHomePage;
            
            const pageTitle = document.createElement('h2');
            pageTitle.className = 'page-title';
            pageTitle.textContent = categoryTitles[categoryId] || categoryId;
            
            pageHeader.appendChild(backButton);
            pageHeader.appendChild(pageTitle);
            
            // مربع البحث
            const searchBox = document.createElement('div');
            searchBox.className = 'search-box';
            
            const searchIcon = document.createElement('span');
            searchIcon.className = 'search-icon';
            searchIcon.innerHTML = '🔍';
            
            const searchInput = document.createElement('input');
            searchInput.type = 'text';
            searchInput.placeholder = `ابحث في كتب ${categoryTitles[categoryId] || categoryId}...`;
            searchInput.oninput = function() {
                filterBooksInCategory(categoryId, this.value);
            };
            
            searchBox.appendChild(searchIcon);
            searchBox.appendChild(searchInput);
            
            // قائمة الكتب
            const booksList = document.createElement('div');
            booksList.id = `books-${categoryId}`;
            booksList.className = 'books-list';
            
            categoryPage.appendChild(pageHeader);
            categoryPage.appendChild(searchBox);
            categoryPage.appendChild(booksList);
            
            categoryPages.appendChild(categoryPage);
            
            // عرض الكتب في هذا التصنيف
            displayBooksInCategory(categoryId);
        }

        // دالة لعرض الكتب في تصنيف معين
        function displayBooksInCategory(categoryId, searchTerm = '') {
            // التحقق من وجود التصنيف
            if (!booksByCategory[categoryId]) {
                console.error('التصنيف غير موجود:', categoryId);
                return;
            }
            
            const booksList = document.getElementById(`books-${categoryId}`);
            if (!booksList) {
                console.error('قائمة الكتب غير موجودة للتصنيف:', categoryId);
                return;
            }
            
            booksList.innerHTML = '';
            
            let books = booksByCategory[categoryId];
            
            // تصفية الكتب إذا كان هناك مصطلح بحث
            if (searchTerm) {
                const term = searchTerm.toLowerCase();
                books = books.filter(book => book.toLowerCase().includes(term));
            }
            
            // عرض الكتب
            if (books.length > 0) {
                books.forEach(book => {
                    const bookCard = document.createElement('div');
                    bookCard.className = 'book-card';
                    
                    const bookTitle = document.createElement('div');
                    bookTitle.className = 'book-title';
                    bookTitle.textContent = book;
                    
                    bookCard.appendChild(bookTitle);
                    booksList.appendChild(bookCard);
                });
            } else {
                // إضافة رسالة إذا لم توجد كتب
                const noBooksMsg = document.createElement('div');
                noBooksMsg.className = 'no-books';
                noBooksMsg.innerHTML = `
                    <i>📚</i>
                    <h3>لا توجد كتب تطابق البحث</h3>
                    <p>حاول استخدام مصطلحات بحث مختلفة</p>
                `;
                booksList.appendChild(noBooksMsg);
            }
        }

        // دالة لتصفية الكتب في تصنيف معين
        function filterBooksInCategory(categoryId, searchTerm) {
            displayBooksInCategory(categoryId, searchTerm);
        }

        // دالة لعرض التصنيفات في الصفحة الرئيسية
        function displayCategories() {
            const categoriesGrid = document.getElementById('categoriesGrid');
            if (!categoriesGrid) {
                console.error('عنصر categoriesGrid غير موجود');
                return;
            }
            
            categoriesGrid.innerHTML = '';
            
            Object.keys(booksByCategory).forEach(categoryId => {
                const categoryCard = document.createElement('div');
                categoryCard.className = 'category-card';
                categoryCard.onclick = () => displayCategoryPage(categoryId);
                
                const categoryHeader = document.createElement('div');
                categoryHeader.className = 'category-header';
                
                const categoryTitle = document.createElement('div');
                categoryTitle.textContent = categoryTitles[categoryId] || categoryId;
                
                const bookCount = document.createElement('div');
                bookCount.className = 'book-count';
                bookCount.textContent = `${booksByCategory[categoryId].length} كتاب`;
                
                categoryHeader.appendChild(categoryTitle);
                categoryHeader.appendChild(bookCount);
                
                const categoryDescription = document.createElement('div');
                categoryDescription.className = 'category-description';
                categoryDescription.textContent = categoryDescriptions[categoryId] || `كتب في مجال ${categoryId}`;
                
                categoryCard.appendChild(categoryHeader);
                categoryCard.appendChild(categoryDescription);
                
                categoriesGrid.appendChild(categoryCard);
            });
        }

        // دالة لتحديث الإحصائيات
        function updateStats() {
            let totalBooks = 0;
            
            Object.values(booksByCategory).forEach(category => {
                totalBooks += category.length;
            });
            
            const totalBooksElement = document.getElementById('totalBooks');
            const categoriesCountElement = document.getElementById('categoriesCount');
            
            if (totalBooksElement) {
                totalBooksElement.textContent = totalBooks;
            }
            
            if (categoriesCountElement) {
                categoriesCountElement.textContent = Object.keys(booksByCategory).length;
            }
        }

        // تهيئة التطبيق عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            displayHomePage();
        });
    </script>
</body>
</html>
